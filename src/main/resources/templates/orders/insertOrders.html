<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/index}">
<head>
  <meta charset="UTF-8">
  <title>insertOrders.html</title>
  <!-- Toast UI CDN -->
  <link rel="stylesheet" href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
  <script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
</head>
<body>
  <!-- thymeleaf -->
  <div layout:fragment="content">
    <h2>주문 등록</h2>
    
    <!-- 입력 폼 -->
    <form name="frm" method="post">
      <!-- csrf 토큰값 가져옴-->
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
      <div>
        <label>주문코드</label>
        <input type="text" name="ordersCode">
      </div>
      <div>
        <label>주문일자</label>
        <input type="date" name="ordersDate">
      </div>
      <div>
        <label>납기일자</label>
        <input type="date" name="dueDate">
      </div>
      <div>
        <label>총주문금액</label>
        <input type="text" name="totalOrdersPrice">
      </div>
      <div>
        <label>거래처코드</label>
        <input type="text" name="companyCode">
      </div>
      <div>
        <button id="saveBtn" type="button" onclick="saveInsert()">등록</button>
        <button id="reset" type="button">초기화</button>
      </div>
    </form>
	productList : [[${productList}]]
    <!-- toast ui grid -->
    <div id="ordDetGrid"></div>

    <!-- 모달 -->
    <div class="col-lg-4 col-md-6">
      <div class="mt-3">
        <!-- 모달 버튼 -->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalCenter">
          주문 상세 등록
        </button>

        <!-- 주문상세 입력 모달 -->
        <div class="modal fade" id="modalCenter" tabindex="-1" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <!-- 모달 헤더 -->
              <div class="modal-header">
                <h5 class="modal-title" id="modalCenterTitle">주문 상세 등록</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <!-- 모달 바디 -->
              <div class="modal-body">
                <!-- 완제품 -->
	              <div class="row">
	                <div class="col mb-3">
	                  <label for="prodCodeOpt" class="form-label">완제품명</label>
	                  <select id="prodCodeOpt" class="form-select color-dropdown">
	                    <option value="" selected="">선택</option>
	                    <option value="${product.productCode}" th:each="product : ${productList}">[[${product.productName}]]</option>
	                  </select>
	                </div>
	              </div>
                <!-- 주문수량 -->
	              <div class="row">
	                <div class="col mb-3">
	                  <label for="orderCnt" class="form-label">주문수량</label>
	                  <input type="number" id="orderCnt" class="form-control" min="100" step="100" value="100"/>
	                </div>
	              </div>
                <!-- 공급가액 -->
                <div class="row">
                  <div class="col mb-0">
                    <label for="supplyPrice" class="form-label">공급가액</label>
                    <input type="number" id="supplyPrice" class="form-control" value="" readonly/>
                  </div>
                </div>
              </div>
              <!-- 모달 푸터 -->
              <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                  Close
                </button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- js -->
    <script src="/js/orders/insertOrders.js"></script>
  </div>
</body>
</html>